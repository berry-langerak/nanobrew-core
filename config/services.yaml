values:
    database_name: "nanobrew.db"

services:
    sensor_types:
        class: SensorTypeRepository
        module: nanobrew.core.domain.sensor_type_repository

    sensors:
        class: SensorRepository
        module: nanobrew.core.domain.sensor_repository
        dependencies:
            - sensors_sqlite

    sensors_sqlite:
        class: SqliteSensorDataMapper
        module: nanobrew.core.infrastructure.sqlite.sensor_data_mapper
        dependencies:
            - sqlite_connection
            - sensor_types

    output_types:
        class: OutputTypeRepository
        module: nanobrew.core.domain.output_type_repository

    actors:
        class: ActorRepository
        module: nanobrew.core.domain.actor_repository
        dependencies:
            - actors_sqlite

    actors_sqlite:
        class: SqliteActorDataMapper
        module: nanobrew.core.infrastructure.sqlite.actor_data_mapper
        dependencies:
            - sqlite_connection
            - output_types

    event_listener:
        class: EventListener
        module: nanobrew.core.application.event_listener
        dependencies:
            - event_bus

    event_bus:
        class: EventBus
        module: nanobrew.core.application.event_bus

    sqlite_connection:
        class: Connection
        module: nanobrew.core.infrastructure.sqlite.connection
        dependencies:
            - value:database_name